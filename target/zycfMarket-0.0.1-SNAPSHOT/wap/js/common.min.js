function bind(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){n.call(t)}),!1}function addEvents(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function removeEvents(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function PopUpBox(){this.t=null,this.oParent=null,this.oDiv=null,this.oTDiv=null,this.settings={w:null,h:null,mark:!0,time:null,tBar:!0,title:"",cBar:!0,content:"",workBar:!0,makesure:!0,makesureInner:"确定",cancel:!0,cancelInner:"取消",callback:null}}function checkMobile(t){var e=/^[1][34578][0-9]{9}$/;return e.test(t)}function testNum(t){var e=/^(([a-zA-Z]+[0-9]+)|([0-9]+[a-zA-Z]+))[a-zA-Z0-9]*$/,n=/^\S{6,16}$/;return e.test(t)&&n.test(t)}function checkChinese(t){var e=/^[\u4e00-\u9fa5]+$/;return e.test(t)}function checkCard(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return e.test(t)}function setCookie(t,e,n){if(t&&e){var s=escape(t)+"="+escape(e);return n&&(n.maxAge&&(s+="; max-age="+n.maxAge),n.path&&(s+="; path="+n.path),n.domain&&(s+="; domain="+n.domain),n.secure&&(s+="; secure")),document.cookie=s,s}return""}function getCookie(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),-1!=c_start)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function removeCookie(t){setCookie(t,"",-1)}function addClass(t,e){var n=t.className.split(" ");if(!t.className)return void(t.className=e);for(var s=0;s<n.length;s++)if(n[s]===e)return;t.className+=" "+e}function removeClass(t,e){var n=t.className.split(" ");if(t.className)for(var s=0;s<n.length;s++)if(n[s]===e){n.splice(s,1),t.className=n.join(" ");break}}function hasClass(t,e){var n=t.className.split(" ");if(!t.className)return!1;for(var s=0;s<n.length;s++)if(n[s]===e)return!0;return!1}!function(){function t(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t);case 2:return parseInt(Math.random()*(e-t+1))+parseInt(t);default:return 0}}function e(){}e.prototype={ajax:function(t){return this.options={type:"GET",dataType:"text",async:!0,avatar:null,contentType:"application/x-www-form-urlencoded",url:"about:blank",data:{},success:{},error:{}},t?t.url?t.success&&"function"==typeof t.success?(this.shift(this.options,t),void this.send()):void console.error("the callback function is lost!"):void console.error("url is required parameters, please check your parameters!"):void console.error("please fill in any parameters first!")},jsonp:function(e){return this.options={type:"JSONP",jsonpName:"",dataType:"text",async:!0,avatar:null,url:"about:blank",success:function(){},data:{}},e?e.url?(e.jsonpName||(e.jsonpName="jsonpCallbackFunctionNo"+(new Date).getTime()+t(0,9999)),this.shift(this.options,e),window[this.options.jsonpName]&&window[this.options.jsonpName]!==this.options.success?void console.error("jsonpName already exists!"):(window[this.options.jsonpName]=this.options.success,void this.create())):void console.error("url is required parameters, please check your parameters!"):void console.error("please fill in any parameters first!")},create:function(){var t=document.createElement("script"),e=/[\?]/g.test(this.options.url)?"&":"?";for(var n in this.options.data)e+=n+"="+this.options.data[n]+"&";e=e+"callback="+this.options.jsonpName,t.async=this.options.async,t.src=this.options.url+("?"==e?"":e),document.getElementsByTagName("head")[0].appendChild(t)},XmlHttp:function(){var t;try{xmlhttp=new XMLHttpRequest}catch(e){try{xmlhttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){t=new ActiveXObject("Microsoft.XMLHTTP")}}return xmlhttp?xmlhttp:!1},send:function(){{var t=this.XmlHttp(),e=/[\?]/g.test(this.options.url)?"&":"?",n="",s=this;this.options.data?this.options.data.length:0}for(var i in this.options.data)n+=i+"="+this.options.data[i]+"&";n=n.replace(/\&$/g,""),"GET"==this.options.type.toUpperCase()?t.open(this.options.type,this.options.url+(""==n?"":e+n),this.options.async):t.open(this.options.type,this.options.url,this.options.async),t.setRequestHeader("Content-Type",this.options.contentType),t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status||0==t.status){if("function"==typeof s.options.success){var e="text"==s.options.dataType?t.responseText:t.responseXML;s.options.success(e,s.options.dataType,s.options.avatar)}t=null}else"function"==typeof s.options.error&&s.options.error("Server Status: "+t.status)},t.send("POST"==this.options.type.toUpperCase()?n:null)},shift:function(t,e){for(var n in e)t[n]=e[n];return t}},window.Request=function(){return new e}}(),PopUpBox.prototype={constructor:PopUpBox,json:{},init:function(t){this.extend(this.settings,t),void 0==this.json[t.iNow]&&(this.json[t.iNow]=!0),this.json[t.iNow]&&(this.createFrame(),this.json[t.iNow]=!1)},createFrame:function(){if(this.oParent=document.createElement("div"),this.oParent.className="popup",this.oDiv=document.createElement("div"),this.oDiv.className="main",this.settings.w&&(this.oDiv.style.width=this.settings.w+"px"),this.settings.h&&(this.oDiv.style.height=this.settings.h+"px"),this.oParent.appendChild(this.oDiv),this.settings.mark&&this.createMark(),this.settings.tBar&&this.createTitle(),this.settings.cBar&&this.createContent(),this.settings.workBar&&this.createWorkBar(),document.body.appendChild(this.oParent),this.settings.time&&0!=this.settings.time){var t=this;this.t&&clearTimeout(this.t),this.t=setTimeout(function(){document.body.removeChild(t.oParent),t.json[t.settings.iNow]=!0},t.settings.time)}},createTitle:function(){this.oTDiv=document.createElement("div"),this.oTDiv.className="title",this.oTDiv.innerHTML="<span>"+this.settings.title+"</span>",this.oDiv.children[0]?this.oDiv.insertBefore(this.oTDiv,this.oDiv.children[0]):this.oDiv.appendChild(this.oTDiv)},createContent:function(){this.oCDiv=document.createElement("div"),this.oCDiv.className="content",this.oCDiv.innerHTML=this.settings.content,this.oDiv.appendChild(this.oCDiv)},createWorkBar:function(){var t=this;this.oBDiv=document.createElement("div"),this.oBDiv.className="bBtn",this.settings.makesure&&(this.makesureBtn=document.createElement("div"),this.makesureBtn.className="makesure",this.makesureBtn.innerHTML=this.settings.makesureInner,this.oBDiv.appendChild(this.makesureBtn),this.makesureBtn.onclick=function(){t.settings.callback&&t.settings.callback(),document.body.removeChild(t.oParent),t.json[t.settings.iNow]=!0}),this.settings.cancel&&(this.cancelBtn=document.createElement("div"),this.cancelBtn.className="cancel",this.cancelBtn.innerHTML=this.settings.cancelInner,this.oBDiv.appendChild(this.cancelBtn),this.cancelBtn.onclick=function(){document.body.removeChild(t.oParent),t.json[t.settings.iNow]=!0}),this.oDiv.appendChild(this.oBDiv)},createMark:function(){this.oMark=document.createElement("div"),this.oMark.className="mark",this.oMark.style.zIndex=3,this.oParent.appendChild(this.oMark)},viewWidth:function(){return document.documentElement.clientWidth},viewHeight:function(){return document.documentElement.clientHeight},extend:function(t,e){for(var n in e)t[n]=e[n]}};